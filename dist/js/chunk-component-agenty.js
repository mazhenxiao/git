webpackJsonp([28],{707:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(10),u=n(s);a(43),a(42);var c=a(836),f=n(c),p=a(837),d=n(p),h=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.url="/MyTodo/IGetMytodo?page=1&size=10",a.state={dataList:[],pageTotal:0,pageCount:0},a}return o(t,e),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){this.getAjax()}},{key:"EventClickCell",value:function(e,t,a){var n=event.target||event.srcElement;window.screen.availWidth,window.screen.availHeight;"type"==t&&"a"==n.nodeName.toLocaleLowerCase()&&iss.hashHistory.push({pathname:"/ProcessApprover",state:iss.id.id})}},{key:"EVENT_CLICK_PROJECTNAME",value:function(e){var t="",a="",n=e.pageurl,r=n.split("?");if("Rejected"==e.RUNSTATE){switch(e.ENTIID){case iss.getEVal("intallmentStatus"):a="intallment";break;case iss.getEVal("newProjectStatus"):a="newProject"}iss.hashHistory.push({pathname:"/"+a,search:"?status=edit&dataKey="+e.RUNTRECORDID+"&e="+e.ENTIID}),$(".JH-Content").removeClass("CLASS_AGENTY")}else{if(r.length>1)t="?"+r[1];else switch(e.ENTIID){case iss.getEVal("newProjectStatus"):case iss.getEVal("intallmentStatus"):t="?e="+e.ENTIID+"&dataKey="+e.RUNTRECORDID+"&current=ProcessApprover";break;default:t=""}if(""==t)return iss.popover({content:"此条数据异常，请联系后台工作人员！"}),!1;iss.hashHistory.push({pathname:"/ProcessApprover",search:t})}}},{key:"getAjax",value:function(e){var t=this,a=1;e&&(a=e),iss.ajax({url:this.url,data:{page:a,size:10},success:function(e){t.setState({pageTotal:e.rows.TotalPages,pageCount:e.rows.TotalItems,dataList:e.rows.Items})},error:function(){}})}},{key:"Bind_Click_Page",value:function(e){this.getAjax(e)}},{key:"agentyTabel",value:function(){var e=this;return this.state.dataList.map(function(t,a){return u.default.createElement("tr",{key:a},u.default.createElement("td",{className:"center"},a+1),u.default.createElement("td",{className:"left"},t.flowtypename),u.default.createElement("td",{className:"left"},u.default.createElement("a",{href:"javascript:;",onClick:e.EVENT_CLICK_PROJECTNAME.bind(e,t)},t.WORKFLOWTITLE)),u.default.createElement("td",{className:"center"},t.SubmitUserName),u.default.createElement("td",{className:"center"},t.INITIALIZEDDATETIME||""))})}},{key:"render",value:function(){return u.default.createElement("article",null,u.default.createElement(f.default,{parent:this.props}),u.default.createElement("section",{className:"agentyBox mgT20"},u.default.createElement("table",{id:"agentyBoxTabel",className:"table2"},u.default.createElement("colgroup",null,u.default.createElement("col",{width:"40"}),u.default.createElement("col",{width:"250"}),u.default.createElement("col",null),u.default.createElement("col",{width:"120"}),u.default.createElement("col",{width:"120"})),u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("td",null,"编号"),u.default.createElement("td",null,"审批类型"),u.default.createElement("td",null,"审批内容"),u.default.createElement("td",null,"提交人"),u.default.createElement("td",null,"接收时间"))),u.default.createElement("tbody",null,this.agentyTabel()))),u.default.createElement(d.default,{total:this.state.pageTotal,count:this.state.pageCount,callback:this.Bind_Click_Page.bind(this)}))}}]),t}(u.default.Component);t.default=h},836:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(10),u=n(s),c=a(33);n(c);a(43),a(42);var f=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.bindLeftBart(),a.state={data:[{guid:"1",text:"我的待审",tap:"agenty"},{guid:"2",text:"我的申请",tap:"apply"},{guid:"3",text:"我的草稿",tap:"draft"},{guid:"4",text:"审批历史",tap:"approalHistory"}]},a}return o(t,e),i(t,[{key:"bindLeftBart",value:function(){$(".JH-Content").addClass("CLASS_AGENTY"),setTimeout(function(e){$(window).trigger("EVENT_CLOSELEFTBAR")},1e3)}},{key:"Event_click",value:function(e,t){var a=$(t.target);switch(a.parent().find("li").removeClass("active"),setTimeout(function(){a.addClass("active")}),e){case"agenty":iss.hashHistory.push("agenty");break;case"apply":iss.hashHistory.push("apply");break;case"draft":iss.hashHistory.push("draft");break;case"approalHistory":iss.hashHistory.push("approalHistory")}}},{key:"render",value:function(){var e,e=this,t=this.props.parent.location.pathname,a=this.state.data.map(function(a,n){return t.indexOf(a.tap)>=0?u.default.createElement("li",{key:n,className:"J-List active",onClick:e.Event_click.bind(e,a.tap)},a.text):u.default.createElement("li",{key:n,className:"J-List",onClick:e.Event_click.bind(e,a.tap)},a.text)});return u.default.createElement("header",{className:"JH-HeadTab"},u.default.createElement("ul",{className:"JH-HeadList"},a),u.default.createElement("div",{className:"JH-RightFlot"},u.default.createElement("a",{className:"btn-refish",href:"javascript:;"},"刷新")))}}]),t}(u.default.Component);t.default=f},837:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(10),s=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={current:1},a}return l(t,e),o(t,[{key:"Bind_click_list",value:function(e){var t=this.props.callback||function(){};this.setState({current:e},function(a){t(e)})}},{key:"render",value:function(){for(var e=[],t=this.props.total||0,a=this.props.count||0,n=1;n<=t;n++)e.push(s.default.createElement("li",{key:n,className:n==this.state.current?"active":"",onClick:this.Bind_click_list.bind(this,n)},s.default.createElement("a",{href:"javascript:;"},n)));return s.default.createElement("nav",{"aria-label":"Page navigation"},s.default.createElement("span",{className:"pageTotal"},a?"共"+a+"条":""),s.default.createElement("ul",{className:"pagination"},e))}}]),t}(s.default.Component);t.default=u}});